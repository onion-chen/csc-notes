<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/csc-notes/favicon.ico"><title>CommonJS模块规范详解：模块化JavaScript开发标准 | CSC-NOTES</title><meta name="description" content="用代码丈量世界，用文字记录成长">
    <link rel="preload" href="/csc-notes/assets/style-Cs2gx0m1.css" as="style"><link rel="stylesheet" href="/csc-notes/assets/style-Cs2gx0m1.css">
    <link rel="modulepreload" href="/csc-notes/assets/app-BPIINpwt.js"><link rel="modulepreload" href="/csc-notes/assets/CommonJS规范.html-BQXKyGja.js">
    <link rel="prefetch" href="/csc-notes/assets/index.html-aL92nIGx.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-BtUwAyvh.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Dh5gQKDM.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-BlJFKiIr.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Cdh4NGX-.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Betyszup.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CMBRSWCd.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-FJHRYj-X.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-b3htIgN5.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Br2VElTL.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-KELmDSt3.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-DFj9XoR2.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-crGTDjPG.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CbFi-XQf.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-B8l69uEs.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-vkp80fqW.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-DFrwwSo5.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CwchzEvs.js" as="script"><link rel="prefetch" href="/csc-notes/assets/Node的模块实现.html-DlpLOdU7.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-B2PotzC5.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CDTEQ7NK.js" as="script"><link rel="prefetch" href="/csc-notes/assets/C语言概述.html-BzT0_dpA.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CumhzyLE.js" as="script"><link rel="prefetch" href="/csc-notes/assets/初识C语言.html-BiNCB2Hv.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-BKpZPC5Y.js" as="script"><link rel="prefetch" href="/csc-notes/assets/css和文档.html-AVX0PzGq.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Blmlg6do.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-BhitN1Jz.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-CQX5DOPi.js" as="script"><link rel="prefetch" href="/csc-notes/assets/为什么要typescript.html-BxI3PbUL.js" as="script"><link rel="prefetch" href="/csc-notes/assets/开始使用typescrip.html-Bq_OCwKy.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-oO8s8UDV.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-Bu3OgitP.js" as="script"><link rel="prefetch" href="/csc-notes/assets/this指向问题.html-BhGRmELU.js" as="script"><link rel="prefetch" href="/csc-notes/assets/作用域和闭包.html-DqqX9ERK.js" as="script"><link rel="prefetch" href="/csc-notes/assets/变量和函数提升.html-BxBd1IDk.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-DunBsOWi.js" as="script"><link rel="prefetch" href="/csc-notes/assets/index.html-DvO43veL.js" as="script"><link rel="prefetch" href="/csc-notes/assets/变量.html-DFa9IoUY.js" as="script"><link rel="prefetch" href="/csc-notes/assets/操作符.html-aoR4iWKL.js" as="script"><link rel="prefetch" href="/csc-notes/assets/数据类型.html-Cvv39GV4.js" as="script"><link rel="prefetch" href="/csc-notes/assets/语法.html-LVXx5LLL.js" as="script"><link rel="prefetch" href="/csc-notes/assets/404.html-rPxngj1c.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/csc-notes/"><img class="vp-site-logo" src="/csc-notes/logo.png" alt="CSC-NOTES"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">CSC-NOTES</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/csc-notes/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="我的笔记"><span class="title">我的笔记</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="我的笔记"><span class="title">我的笔记</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/web/" aria-label="前端笔记"><!--[--><!--[--><!--]--><!--]-->前端笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/react/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/javascript/" aria-label="JavaScript"><!--[--><!--[--><!--]--><!--]-->JavaScript<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--><!--]-->TypeScript<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link route-link-active auto-link" href="/csc-notes/notes/server/" aria-label="服务端笔记"><!--[--><!--[--><!--]--><!--]-->服务端笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/csc-notes/notes/server/nodejs/" aria-label="NodeJS"><!--[--><!--[--><!--]--><!--]-->NodeJS<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/underlying/" aria-label="C/C++"><!--[--><!--[--><!--]--><!--]-->C/C++<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/underlying/C%E8%AF%AD%E8%A8%80/" aria-label="C语言"><!--[--><!--[--><!--]--><!--]-->C语言<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/db/" aria-label="数据库笔记"><!--[--><!--[--><!--]--><!--]-->数据库笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/server/db/" aria-label="Postgresql"><!--[--><!--[--><!--]--><!--]-->Postgresql<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/net/" aria-label="计算机网络"><!--[--><!--[--><!--]--><!--]-->计算机网络<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/net/base/" aria-label="计算机网络基础"><!--[--><!--[--><!--]--><!--]-->计算机网络基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/net/advance/" aria-label="计算机网络进阶"><!--[--><!--[--><!--]--><!--]-->计算机网络进阶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/os/" aria-label="操作系统"><!--[--><!--[--><!--]--><!--]-->操作系统<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/os/base/" aria-label="操作系统基础"><!--[--><!--[--><!--]--><!--]-->操作系统基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/os/advance/" aria-label="操作系统进阶"><!--[--><!--[--><!--]--><!--]-->操作系统进阶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="工程化"><span class="title">工程化</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title">工程化</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>前端工程化</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/web/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/web/react/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>后端工程化</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/server/node/" aria-label="NodeJS"><!--[--><!--[--><!--]--><!--]-->NodeJS<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据结构与算法"><span class="title">数据结构与算法</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据结构与算法"><span class="title">数据结构与算法</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/algorithm/data-structure/" aria-label="数据结构"><!--[--><!--[--><!--]--><!--]-->数据结构<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/algorithm/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/interview/web/" aria-label="前端面试"><!--[--><!--[--><!--]--><!--]-->前端面试<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/interview/server/" aria-label="后端面试"><!--[--><!--[--><!--]--><!--]-->后端面试<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/csc666888/csc-notes" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="请输入搜索内容" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/csc-notes/" aria-label="首页"><!--[--><!--[--><!--]--><!--]-->首页<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="我的笔记"><span class="title">我的笔记</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="我的笔记"><span class="title">我的笔记</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/web/" aria-label="前端笔记"><!--[--><!--[--><!--]--><!--]-->前端笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/react/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/javascript/" aria-label="JavaScript"><!--[--><!--[--><!--]--><!--]-->JavaScript<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/web/typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--><!--]-->TypeScript<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link route-link-active auto-link" href="/csc-notes/notes/server/" aria-label="服务端笔记"><!--[--><!--[--><!--]--><!--]-->服务端笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link route-link-active auto-link" href="/csc-notes/notes/server/nodejs/" aria-label="NodeJS"><!--[--><!--[--><!--]--><!--]-->NodeJS<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/underlying/" aria-label="C/C++"><!--[--><!--[--><!--]--><!--]-->C/C++<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/underlying/C%E8%AF%AD%E8%A8%80/" aria-label="C语言"><!--[--><!--[--><!--]--><!--]-->C语言<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/db/" aria-label="数据库笔记"><!--[--><!--[--><!--]--><!--]-->数据库笔记<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/server/db/" aria-label="Postgresql"><!--[--><!--[--><!--]--><!--]-->Postgresql<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/net/" aria-label="计算机网络"><!--[--><!--[--><!--]--><!--]-->计算机网络<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/net/base/" aria-label="计算机网络基础"><!--[--><!--[--><!--]--><!--]-->计算机网络基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/net/advance/" aria-label="计算机网络进阶"><!--[--><!--[--><!--]--><!--]-->计算机网络进阶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><a class="route-link auto-link" href="/csc-notes/notes/os/" aria-label="操作系统"><!--[--><!--[--><!--]--><!--]-->操作系统<!--[--><!--[--><!--]--><!--]--></a></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/os/base/" aria-label="操作系统基础"><!--[--><!--[--><!--]--><!--]-->操作系统基础<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/notes/os/advance/" aria-label="操作系统进阶"><!--[--><!--[--><!--]--><!--]-->操作系统进阶<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="工程化"><span class="title">工程化</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="工程化"><span class="title">工程化</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>前端工程化</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/web/vue/" aria-label="Vue"><!--[--><!--[--><!--]--><!--]-->Vue<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/web/react/" aria-label="React"><!--[--><!--[--><!--]--><!--]-->React<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>后端工程化</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/csc-notes/engineering/server/node/" aria-label="NodeJS"><!--[--><!--[--><!--]--><!--]-->NodeJS<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="数据结构与算法"><span class="title">数据结构与算法</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="数据结构与算法"><span class="title">数据结构与算法</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/algorithm/data-structure/" aria-label="数据结构"><!--[--><!--[--><!--]--><!--]-->数据结构<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/algorithm/algorithm/" aria-label="算法"><!--[--><!--[--><!--]--><!--]-->算法<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="面试"><span class="title">面试</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="面试"><span class="title">面试</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/interview/web/" aria-label="前端面试"><!--[--><!--[--><!--]--><!--]-->前端面试<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/csc-notes/interview/server/" aria-label="后端面试"><!--[--><!--[--><!--]--><!--]-->后端面试<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/csc666888/csc-notes" aria-label="Github" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->Github<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/csc-notes/notes/server/nodejs/" aria-label="NodeJS"><!--[--><!--[--><!--]--><!--]-->NodeJS<!--[--><!--[--><!--]--><!--]--></a><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/csc-notes/notes/server/nodejs/CommonJS%E8%A7%84%E8%8C%83.html" aria-label="CommonJS规范"><!--[--><!--[--><!--]--><!--]-->CommonJS规范<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/csc-notes/notes/server/nodejs/Node%E7%9A%84%E6%A8%A1%E5%9D%97%E5%AE%9E%E7%8E%B0.html" aria-label="Node的模块实现"><!--[--><!--[--><!--]--><!--]-->Node的模块实现<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="_1-commonjs的模块规范" tabindex="-1"><a class="header-anchor" href="#_1-commonjs的模块规范"><span>1.CommonJS的模块规范</span></a></h1><h2 id="_1-1什么是commonjs" tabindex="-1"><a class="header-anchor" href="#_1-1什么是commonjs"><span>1.1什么是CommonJS？</span></a></h2><p>CommonJS是一个项目，其目标是为JavaScript在浏览器以外的平台（如服务器、桌面、命令行工具等）制定一个生态系统标准。它对模块定义进行了规范化，使JavaScript能够在任何地方开发和运行。</p><h2 id="_1-2为什么需要commonjs" tabindex="-1"><a class="header-anchor" href="#_1-2为什么需要commonjs"><span>1.2为什么需要CommonJS？</span></a></h2><p>在JavaScript发展历程中，主要在浏览器端发光发热。官方规范（ECMAScript）规范化的时间较早，规范涵盖的范畴非常小。随着HTML5规范的推广以及各大浏览器厂商对规范的支持，在浏览器中出现了更多、更强大的API调用。但对于后端JavaScript的规范却远远落后，对于JavaScript本身而言规范依然是薄弱的。主要体现在：</p><ul><li><strong>没有模块系统</strong>：缺乏一个标准的模块管理机制</li><li><strong>标准库少</strong>：ECMA仅定义了部分核心库，对于文件系统，I/O流等常见需求却没有标准的API，ECMA的规范主要还是停留在了前端浏览器上</li><li><strong>没有标准接口</strong>：在JavaScript中，几乎没有定义过Web服务器或者数据库之类的标准统一接口</li><li><strong>缺乏包管理系统</strong>：导致JavaScript基本没有能力自动加载和安装依赖</li></ul><p>CommonJS规范的提出是想让JavaScript具备开发大型应用的基础能力，主要应用场景包括：</p><ul><li><strong>服务端JavaScript应用程序</strong>：如Node.js服务器应用</li><li><strong>命令行工具</strong>：使用Node.js开发的CLI工具</li><li><strong>桌面图形界面应用程序</strong>：如Electron开发的跨平台桌面应用</li></ul><h2 id="_1-2commonjs的优势" tabindex="-1"><a class="header-anchor" href="#_1-2commonjs的优势"><span>1.2CommonJS的优势</span></a></h2><ul><li><strong>简单易用</strong>：采用同步加载模块的方式，代码清晰直观</li><li><strong>作用域隔离</strong>：每个模块都有独立的作用域，避免变量污染</li><li><strong>依赖管理</strong>：自动处理模块依赖关系，确保模块按正确顺序加载</li><li><strong>版本管理</strong>：配合npm包管理系统，可以方便地管理模块版本</li></ul><h2 id="_1-4commonjs具体规范定义" tabindex="-1"><a class="header-anchor" href="#_1-4commonjs具体规范定义"><span>1.4CommonJS具体规范定义</span></a></h2><p>CommonJS对模块的定义十分简单，主要分为三个核心概念：<strong>模块引用（require）</strong>、<strong>模块定义（exports）</strong>、<strong>模块标识（模块名）</strong>。让我们详细了解每个部分。</p><h2 id="_1-5模块引用-require" tabindex="-1"><a class="header-anchor" href="#_1-5模块引用-require"><span>1.5模块引用（require）</span></a></h2><p>模块引用是CommonJS规范中最基本的操作，通过<code>require()</code>方法来实现。</p><h3 id="_1-5-1基本语法" tabindex="-1"><a class="header-anchor" href="#_1-5-1基本语法"><span>1.5.1基本语法</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> myModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./myModule&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 引入本地模块</span></span>
<span class="line"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 引入npm包</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-5-2require的特点" tabindex="-1"><a class="header-anchor" href="#_1-5-2require的特点"><span>1.5.2require的特点</span></a></h3><ul><li><strong>同步加载</strong>：模块加载是同步的，按顺序依次执行</li><li><strong>缓存机制</strong>：多次引用同一模块时只会加载一次</li><li><strong>路径解析</strong>：支持相对路径和绝对路径</li><li><strong>文件类型</strong>：可以引入.js、.json、.node等类型的文件</li></ul><h2 id="_1-6模块定义-exports" tabindex="-1"><a class="header-anchor" href="#_1-6模块定义-exports"><span>1.6模块定义（exports）</span></a></h2><p>在Node.js中，每个文件都被视为一个独立的模块。CommonJS规范提供了两种方式来导出模块内容：<code>exports</code>对象和<code>module.exports</code>。</p><h3 id="_1-6-1exports对象" tabindex="-1"><a class="header-anchor" href="#_1-6-1exports对象"><span>1.6.1exports对象</span></a></h3><p><code>exports</code>是一个特殊的对象，它是<code>module.exports</code>的引用。我们可以通过给<code>exports</code>添加属性来导出内容。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// math.js - 使用exports导出多个方法</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">subtract</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">multiply</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 在其他文件中使用</span></span>
<span class="line"><span class="token keyword">const</span> math <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./math&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 5</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 3</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-6-2module-exports对象" tabindex="-1"><a class="header-anchor" href="#_1-6-2module-exports对象"><span>1.6.2module.exports对象</span></a></h3><p><code>module.exports</code>是模块系统创建的对象，它是真正的导出对象。我们可以直接替换整个<code>module.exports</code>对象。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// person.js - 使用module.exports导出类</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, I&#39;m </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Person<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 在其他文件中使用</span></span>
<span class="line"><span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./person&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">person<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 输出: Hello, I&#39;m 张三</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-6-3exports-vs-module-exports" tabindex="-1"><a class="header-anchor" href="#_1-6-3exports-vs-module-exports"><span>1.6.3exports vs module.exports</span></a></h3><p>理解<code>exports</code>和<code>module.exports</code>的关系是很重要的：</p><ol><li><strong>正确的用法</strong>：</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 方式1：通过exports添加属性</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">method1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">method2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 方式2：直接替换module.exports</span></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">method1</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token function-variable function">method2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>错误的用法</strong>：</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 错误示例：混合使用导致exports失效</span></span>
<span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;主函数&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">exports<span class="token punctuation">.</span><span class="token function-variable function">helper</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token comment">// 这个方法不会被导出！</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;辅助函数&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-6-4最佳实践" tabindex="-1"><a class="header-anchor" href="#_1-6-4最佳实践"><span>1.6.4最佳实践</span></a></h3><ol><li><strong>保持一致性</strong>：在一个模块中只使用一种导出方式</li><li><strong>导出单一值</strong>：使用<code>module.exports</code></li><li><strong>导出多个值</strong>：使用<code>exports</code>或<code>module.exports</code>对象</li><li><strong>避免修改exports引用</strong>：不要使用<code>exports = {...}</code></li><li><strong>使用解构导入</strong>：推荐使用<code>const { method } = require(&#39;./module&#39;)</code>的方式导入需要的方法</li></ol><h2 id="_1-7模块标识-module-identifier" tabindex="-1"><a class="header-anchor" href="#_1-7模块标识-module-identifier"><span>1.7模块标识（Module Identifier）</span></a></h2><p>模块标识是传递给<code>require</code>方法的参数，用于定位和加载模块。Node.js支持多种类型的模块标识。</p><h3 id="_1-7-1模块标识的类型" tabindex="-1"><a class="header-anchor" href="#_1-7-1模块标识的类型"><span>1.7.1模块标识的类型</span></a></h3><ol><li><strong>核心模块</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// 内置模块</span></span>
<span class="line"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// 内置模块</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><strong>第三方模块</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// npm安装的模块</span></span>
<span class="line"><span class="token keyword">const</span> lodash <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// npm安装的模块</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>文件模块</strong></li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 相对路径</span></span>
<span class="line"><span class="token keyword">const</span> myModule <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./myModule&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 当前目录</span></span>
<span class="line"><span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../utils&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// 上级目录</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 绝对路径</span></span>
<span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;/root/app/config&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 从根目录开始</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-7-2模块解析规则" tabindex="-1"><a class="header-anchor" href="#_1-7-2模块解析规则"><span>1.7.2模块解析规则</span></a></h3><ol><li><p><strong>文件扩展名</strong>：</p><ul><li>可以省略.js、.json、.node扩展名</li><li>按顺序尝试加载：.js → .json → .node</li></ul></li><li><p><strong>目录作为模块</strong>：</p><ul><li>查找package.json中的main字段</li><li>如果没有package.json，则查找index.js</li></ul></li><li><p><strong>node_modules查找</strong>：</p><ul><li>从当前目录开始，逐级向上查找node_modules目录</li><li>直到根目录或找到目标模块</li></ul></li></ol><h2 id="_1-8总结" tabindex="-1"><a class="header-anchor" href="#_1-8总结"><span>1.8总结</span></a></h2><p>CommonJS规范为JavaScript模块化开发提供了完整的解决方案：</p><ul><li><strong>简单易用</strong>：模块定义和使用方式直观</li><li><strong>作用域隔离</strong>：每个模块都有独立的作用域</li><li><strong>依赖管理</strong>：自动处理模块间的依赖关系</li><li><strong>灵活导出</strong>：支持多种导出方式</li></ul><p>通过CommonJS规范，我们可以构建出结构清晰、易于维护的Node.js应用。</p><!--[--><p data-v-6c628569>💬 欢迎评论！请确保您已登录 GitHub。</p><div data-v-6c628569></div><!--]--></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">最近更新：: </span><time class="meta-item-info" datetime="2025-05-19T12:57:30.000Z" data-allow-mismatch>2025/5/19 12:57</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: chenshicong666@qq.com">chenshicong</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/csc-notes/notes/server/nodejs/Node%E7%9A%84%E6%A8%A1%E5%9D%97%E5%AE%9E%E7%8E%B0.html" aria-label="Node的模块实现"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Node的模块实现</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/csc-notes/assets/app-BPIINpwt.js" defer></script>
  </body>
</html>
